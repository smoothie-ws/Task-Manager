{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="taskm-section">
    <h2 class="taskm-heading">Мои задачи:</h2>

    <div class="taskm-container" id="taskmContainer">
        {% for task in tasks %}
        <a href="{% url 'app_tasks:task_view' task.slug %}" class="taskm-card">
            <div class="taskm-content">
                <p class="taskm-title"><strong>Название:</strong> {{ task.title }}</p>
                <button class="taskm-subtask-btn">Добавить подзадачи</button>
                <p class="taskm-meta">Срок сдачи: {{ task.deadline_date }}</p>
                <p class="taskm-meta">Приоритет: {{ task.get_priority_display }}</p>
                <span class="taskm-status">{{ task.get_status_display }}</span>
            </div>
        </a>
        {% endfor %}

        <!-- Карточка добавления задачи со ссылкой -->
        <a href="{% url 'app_tasks:task_create' %}" class="taskm-card taskm-add-card">
            <div class="taskm-add-btn">+</div>
        </a>
    </div>

    <div class="taskm-pagination">
        <button class="taskm-page-btn" onclick="scrollTasks(-1)">&larr;</button>
        <button class="taskm-page-btn" onclick="scrollTasks(1)">&rarr;</button>
    </div>

    <div class="taskm-filters">
        <h3>Фильтрация по:</h3>
        <label><input type="radio" name="filter" /> Приоритету</label>
        <label><input type="radio" name="filter" /> Сроку сдачи</label>
        <label><input type="radio" name="filter" /> Выполненные</label>
        <label><input type="radio" name="filter" /> В работе</label>
    </div>
</section>
{% endblock %}

